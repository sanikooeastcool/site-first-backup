(window.itsecWebpackJsonP=window.itsecWebpackJsonP||[]).push([[10],{Lykm:function(e,t,r){"use strict";r.r(t),r.d(t,"STORE_NAME",(function(){return St}));var n={};r.r(n),r.d(n,"receiveSources",(function(){return N})),r.d(n,"receiveExports",(function(){return U})),r.d(n,"createExport",(function(){return V})),r.d(n,"deleteExport",(function(){return X})),r.d(n,"deleteExports",(function(){return H})),r.d(n,"validateExportFile",(function(){return q})),r.d(n,"validateExportData",(function(){return B})),r.d(n,"wpConnectReset",(function(){return J})),r.d(n,"wpConnectEnterWebsite",(function(){return z})),r.d(n,"wpConnectDiscoverRestApi",(function(){return $})),r.d(n,"wpConnectApplicationApproved",(function(){return K})),r.d(n,"wpConnectApplicationRejected",(function(){return Y})),r.d(n,"wpConnectReceiveAppPassword",(function(){return Q})),r.d(n,"wpConnectReceiveExports",(function(){return Z})),r.d(n,"wpConnectReceiveSources",(function(){return ee})),r.d(n,"wpConnectCreateExport",(function(){return te})),r.d(n,"editImportSources",(function(){return re})),r.d(n,"editImportUserMap",(function(){return ne})),r.d(n,"editImportRoleMap",(function(){return ce})),r.d(n,"transformImportExportData",(function(){return oe})),r.d(n,"applyExportData",(function(){return ue})),r.d(n,"completeImport",(function(){return se})),r.d(n,"RECEIVE_SOURCES",(function(){return ae})),r.d(n,"RECEIVE_EXPORTS",(function(){return ie})),r.d(n,"CREATE_EXPORT",(function(){return pe})),r.d(n,"FINISH_EXPORT",(function(){return fe})),r.d(n,"DELETE_EXPORT",(function(){return le})),r.d(n,"SET_EXPORT_ERROR",(function(){return de})),r.d(n,"VALIDATE_EXPORT_FILE",(function(){return Ee})),r.d(n,"VALIDATE_EXPORT_DATA",(function(){return Oe})),r.d(n,"VALIDATED_EXPORT",(function(){return be})),r.d(n,"EDIT_IMPORT_SOURCES",(function(){return he})),r.d(n,"EDIT_IMPORT_USER_MAP",(function(){return xe})),r.d(n,"EDIT_IMPORT_ROLE_MAP",(function(){return ve})),r.d(n,"WPC_RESET",(function(){return me})),r.d(n,"WPC_ENTER_WEBSITE",(function(){return ye})),r.d(n,"WPC_DISCOVER_REST_API",(function(){return ge})),r.d(n,"WPC_DISCOVERED_REST_API",(function(){return Pe})),r.d(n,"WPC_APPLICATION_REJECTED",(function(){return Ce})),r.d(n,"WPC_APPLICATION_APPROVED",(function(){return we})),r.d(n,"WPC_CHECK_SUPPORT",(function(){return _e})),r.d(n,"WPC_RECEIVE_EXPORTS",(function(){return Re})),r.d(n,"WPC_RECEIVE_SOURCES",(function(){return Se})),r.d(n,"WPC_CREATE_EXPORT",(function(){return je})),r.d(n,"WPC_FINISH_EXPORT",(function(){return Te})),r.d(n,"WPC_RECEIVE_APP_PASSWORD",(function(){return Ie}));var c={};r.r(c),r.d(c,"getSources",(function(){return ze})),r.d(c,"getExports",(function(){return Ge})),r.d(c,"isCreatingExport",(function(){return $e})),r.d(c,"getLastCreatedExportResult",(function(){return Ke})),r.d(c,"getImportExportData",(function(){return Ye})),r.d(c,"getImportExportValidationResult",(function(){return Qe})),r.d(c,"getImportExportSource",(function(){return Ze})),r.d(c,"getImportSources",(function(){return et})),r.d(c,"getImportUserMap",(function(){return tt})),r.d(c,"getImportRoleMap",(function(){return rt})),r.d(c,"getImportExportUserReplacementTargets",(function(){return ct})),r.d(c,"getImportExportRoleReplacementTargets",(function(){return ot})),r.d(c,"getWpConnectStep",(function(){return ut})),r.d(c,"getWpConnectSiteUrl",(function(){return st})),r.d(c,"getWpConnectExports",(function(){return at})),r.d(c,"getWpConnectSources",(function(){return it})),r.d(c,"wpConnectIsCreating",(function(){return pt})),r.d(c,"getWpConnectExport",(function(){return ft})),r.d(c,"getWpConnectCredentials",(function(){return lt})),r.d(c,"getWpConnectDiscoveryResult",(function(){return dt})),r.d(c,"getWpConnectCredentialsIntrospection",(function(){return Et})),r.d(c,"getWpConnectRestApiEndpoint",(function(){return Ot})),r.d(c,"getWpConnectAppPasswordsAuthEndpoint",(function(){return bt}));var o={};r.r(o),r.d(o,"getSources",(function(){return ht})),r.d(o,"getExports",(function(){return xt})),r.d(o,"getWpConnectExports",(function(){return vt})),r.d(o,"getWpConnectSources",(function(){return mt})),r.d(o,"getWpConnectCredentialsIntrospection",(function(){return yt}));var u=r("lSNA"),s=r.n(u),a=r("1ZqX"),i=r("z1rk"),p=r("QILm"),f=r.n(p),l=r("l3Sj"),d=r("Td6G");function E(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function O(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?E(Object(r),!0).forEach((function(t){s()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):E(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function b(e){return{type:"WP_CONNECT_FETCH",request:e}}function h(e,t){var r=t.path,n=t.headers,c=f()(t,["path","headers"]),o=e.select(St).getWpConnectCredentials()||{},u=e.select(St).getWpConnectRestApiEndpoint(r);if(!u)throw{code:"not_connected",message:Object(l.__)("API not connected.","it-l10n-ithemes-security-pro")};return O({url:u,headers:O({Authorization:"Basic ".concat(window.btoa(o.username+":"+o.password))},n||{})},c)}var x={WP_CONNECT_FETCH:Object(a.createRegistryControl)((function(e){return function(t){var r=t.request;return i.controls.API_FETCH({request:h(e,r)})}})),WP_CONNECT_FETCH_RESULT:Object(a.createRegistryControl)((function(e){return function(t){var r=t.request;try{return i.controls.API_FETCH_RESULT({request:h(e,r)})}catch(e){return new d.b(d.b.ERROR,new d.c(e.code,e.message))}}}))},v=r("J4zp"),m=r.n(v),y=r("o0o1"),g=r.n(y),P=r("YLtl");function C(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function w(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?C(Object(r),!0).forEach((function(t){s()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):C(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function _(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return R(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return R(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,c=function(){};return{s:c,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:c}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,u=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return u=e.done,e},e:function(e){s=!0,o=e},f:function(){try{u||null==r.return||r.return()}finally{if(s)throw o}}}}function R(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var S=g.a.mark(V),j=g.a.mark(X),T=g.a.mark(H),I=g.a.mark(q),A=g.a.mark(B),D=g.a.mark($),k=g.a.mark(K),W=g.a.mark(te),M=g.a.mark(oe),L=g.a.mark(ue),F=g.a.mark(se);function N(e){return{type:ae,sources:e}}function U(e){return{type:ie,exports:e}}function V(e){var t;return g.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,{type:pe,export:e};case 2:return r.next=4,Object(i.apiFetchResult)({path:"/ithemes-security/v1/import-export/exports",method:"POST",data:e});case 4:return t=r.sent,r.next=7,{type:fe,result:t};case 7:return r.abrupt("return",t);case 8:case"end":return r.stop()}}),S)}function X(e){return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(i.apiFetch)({path:"/ithemes-security/v1/import-export/exports/".concat(e),method:"DELETE"});case 2:return t.next=4,{type:le,id:e};case 4:case"end":return t.stop()}}),j)}function H(e){var t,r,n;return g.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,c.next=3,Object(i.apiFetch)({path:"/batch/v1",method:"POST",data:{requests:e.map((function(e){return{method:"DELETE",path:"/ithemes-security/v1/import-export/exports/".concat(e)}}))}});case 3:t=c.sent,c.next=11;break;case 6:return c.prev=6,c.t0=c.catch(0),c.next=10,Object(i.createNotice)("error",c.t0.message||Object(l.__)("Could not delete exports.","it-l10n-ithemes-security-pro"));case 10:return c.abrupt("return",c.t0);case 11:r=0;case 12:if(!(r<e.length)){c.next=24;break}if(!((n=t.responses[r]).status>=400)){c.next=19;break}return c.next=17,{type:de,id:e[r],error:n.body};case 17:c.next=21;break;case 19:return c.next=21,{type:le,id:e[r]};case 21:r++,c.next=12;break;case 24:case"end":return c.stop()}}),T,null,[[0,6]])}function q(e){var t,r,n,c=arguments;return g.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return t=c.length>1&&void 0!==c[1]?c[1]:"upload",o.next=3,{type:Ee,file:e,source:t};case 3:return(r=new window.FormData).append("file",e),o.next=7,Object(i.apiFetchResult)({path:"ithemes-security/rpc/import/validate",method:"POST",body:r});case 7:return n=o.sent,o.next=10,{type:be,result:n};case 10:case"end":return o.stop()}}),I)}function B(e){var t,r,n=arguments;return g.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return t=n.length>1&&void 0!==n[1]?n[1]:"connect",c.next=3,{type:Oe,data:e,source:t};case 3:return c.next=5,Object(i.apiFetchResult)({path:"ithemes-security/rpc/import/validate",method:"POST",data:e});case 5:return r=c.sent,c.next=8,{type:be,result:r};case 8:case"end":return c.stop()}}),A)}function J(){return{type:me}}function z(e){return{type:ye,url:e}}function G(e,t){return Object(i.apiFetchResult)({path:"/ithemes-security/rpc/discover",method:"POST",data:{url:e},headers:t&&{Authorization:"Basic ".concat(window.btoa(t.username+":"+t.password))}})}function $(e){var t;return g.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,{type:ge,url:e};case 2:return r.next=4,G(e);case 4:return t=r.sent,r.next=7,{type:Pe,result:t};case 7:return r.abrupt("return",t);case 8:case"end":return r.stop()}}),D)}function K(e,t){var r,n;return g.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,{type:we,url:e,credentials:t};case 2:return c.next=4,G(e,t);case 4:return r=c.sent,n=r.isSuccess()&&r.data.itsec.routes.hasOwnProperty("/ithemes-security/v1/import-export/exports"),c.next=8,{type:_e,discovery:r,hasSupport:n};case 8:case"end":return c.stop()}}),k)}function Y(){return{type:Ce}}function Q(e){return{type:Ie,introspection:e}}function Z(e){return{type:Re,exports:e}}function ee(e){return{type:Se,sources:e}}function te(e){var t;return g.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,{type:je,export:e};case 2:return r.next=4,{type:"WP_CONNECT_FETCH_RESULT",request:{data:e,path:"/ithemes-security/v1/import-export/exports",method:"POST"}};case 4:return t=r.sent,r.next=7,{type:Te,result:t};case 7:return r.abrupt("return",t);case 8:case"end":return r.stop()}}),W)}function re(e){return{type:he,sources:e}}function ne(e){return{type:xe,map:e}}function ce(e){return{type:ve,map:e}}function oe(){var e,t,r,n;return g.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,Object(i.select)(St,"getImportExportData");case 2:return e=c.sent,c.next=5,Object(i.select)(St,"getImportSources");case 5:return t=c.sent,c.next=8,Object(i.select)(St,"getImportUserMap");case 8:return r=c.sent,c.next=11,Object(i.select)(St,"getImportRoleMap");case 11:return n=c.sent,c.next=14,Object(i.apiFetch)({method:"POST",path:"/ithemes-security/rpc/import/transform",data:{export:e,sources:t,user_map:r,role_map:n}});case 14:return c.abrupt("return",c.sent);case 15:case"end":return c.stop()}}),M)}function ue(){var e,t,r,n,c,o,u,s,a,p,f,l,d,E,O,b,h,x,v,y,C,R,S,j,T,I,A,D,k,W,M;return g.a.wrap((function(g){for(;;)switch(g.prev=g.next){case 0:return g.next=2,Object(i.dispatch)(i.MODULES_STORE_NAME,"resetModuleEdits");case 2:return g.next=4,Object(i.dispatch)(i.MODULES_STORE_NAME,"resetSettingEdits");case 4:return g.next=6,Object(i.dispatch)("ithemes-security/user-groups-editor","resetAllEdits");case 6:return g.delegateYield(oe(),"t0",7);case 7:return e=g.t0,g.next=10,Object(i.select)(St,"getImportSources");case 10:t=g.sent,r=_(t),g.prev=12,r.s();case 14:if((n=r.n()).done){g.next=118;break}if(c=n.value,e.sources[c]){g.next=18;break}return g.abrupt("continue",116);case 18:o=e.sources[c],g.t1=c,g.next="modules"===g.t1?22:"settings"===g.t1?31:"user-groups"===g.t1?40:116;break;case 22:u=0,s=Object.entries(o);case 23:if(!(u<s.length)){g.next=30;break}return a=m()(s[u],2),p=a[0],f=a[1],g.next=27,Object(i.dispatch)(i.MODULES_STORE_NAME,"editModule",p,{status:{selected:f}});case 27:u++,g.next=23;break;case 30:return g.abrupt("break",116);case 31:l=0,d=Object.entries(o);case 32:if(!(l<d.length)){g.next=39;break}return E=m()(d[l],2),O=E[0],b=E[1],g.next=36,Object(i.dispatch)(i.MODULES_STORE_NAME,"editSettings",O,b);case 36:l++,g.next=32;break;case 39:return g.abrupt("break",116);case 40:return g.next=42,Object(i.select)("ithemes-security/user-groups","getSettingDefinitions",null,void 0,{skipConditions:!0});case 42:return h=g.sent,g.next=45,Object(i.select)("ithemes-security/user-groups","getMatchables");case 45:x=g.sent,v=_(x),g.prev=47,v.s();case 49:if((y=v.n()).done){g.next=56;break}if("user-group"!==(C=y.value).type||Object(P.find)(o,{id:C.id})){g.next=54;break}return g.next=54,Object(i.dispatch)("ithemes-security/user-groups-editor","markGroupForDeletion",C.id);case 54:g.next=49;break;case 56:g.next=61;break;case 58:g.prev=58,g.t2=g.catch(47),v.e(g.t2);case 61:return g.prev=61,v.f(),g.finish(61);case 64:R=_(o),g.prev=65,R.s();case 67:if((S=R.n()).done){g.next=107;break}if(j=S.value,Object(P.find)(x,{id:j.id})){g.next=75;break}return g.next=72,Object(i.dispatch)("ithemes-security/user-groups-editor","createLocalGroup",j.id);case 72:if(g.sent){g.next=75;break}return g.abrupt("continue",105);case 75:return g.next=77,Object(i.dispatch)("ithemes-security/user-groups-editor","editGroup",j.id,w(w({},j),{},{roles:Object(P.map)(j.roles,"slug"),users:Object(P.map)(j.users,"id")}));case 77:T=_(h),g.prev=78,T.s();case 80:if((I=T.n()).done){g.next=97;break}if(A=I.value,e.sources.settings[A.id]){g.next=84;break}return g.abrupt("continue",95);case 84:D=0,k=Object.keys(A.settings);case 85:if(!(D<k.length)){g.next=95;break}if(W=k[D],M=Object(P.get)(e.sources.settings[A.id],W),Array.isArray(M)){g.next=90;break}return g.abrupt("continue",92);case 90:return g.next=92,Object(i.dispatch)("ithemes-security/user-groups-editor","editGroupSetting",j.id,A.id,W,M.includes(j.id));case 92:D++,g.next=85;break;case 95:g.next=80;break;case 97:g.next=102;break;case 99:g.prev=99,g.t3=g.catch(78),T.e(g.t3);case 102:return g.prev=102,T.f(),g.finish(102);case 105:g.next=67;break;case 107:g.next=112;break;case 109:g.prev=109,g.t4=g.catch(65),R.e(g.t4);case 112:return g.prev=112,R.f(),g.finish(112);case 115:return g.abrupt("break",116);case 116:g.next=14;break;case 118:g.next=123;break;case 120:g.prev=120,g.t5=g.catch(12),r.e(g.t5);case 123:return g.prev=123,r.f(),g.finish(123);case 126:case"end":return g.stop()}}),L,null,[[12,120,123,126],[47,58,61,64],[65,109,112,115],[78,99,102,105]])}function se(){var e,t;return g.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Object(i.select)(St,"getImportExportData");case 2:return e=r.sent,r.next=5,Object(i.select)(St,"getImportSources");case 5:return t=r.sent,r.next=8,Object(i.apiFetchResult)({path:"/ithemes-security/rpc/import/run",method:"POST",data:{export:e,sources:Object(P.difference)(t,["modules","settings","user-groups"])}});case 8:case"end":return r.stop()}}),F)}var ae="RECEIVE_SOURCES",ie="RECEIVE_EXPORTS",pe="CREATE_EXPORT",fe="FINISH_EXPORT",le="DELETE_EXPORT",de="SET_EXPORT_ERROR",Ee="VALIDATE_EXPORT_FILE",Oe="VALIDATE_EXPORT_DATA",be="VALIDATED_EXPORT",he="EDIT_IMPORT_SOURCES",xe="EDIT_IMPORT_USER_MAP",ve="EDIT_IMPORT_ROLE_MAP",me="WPC_RESET",ye="WPC_ENTER_WEBSITE",ge="WPC_DISCOVER_REST_API",Pe="WPC_DISCOVERED_REST_API",Ce="WPC_APPLICATION_REJECTED",we="WPC_APPLICATION_APPROVED",_e="WPC_CHECK_SUPPORT",Re="WPC_RECEIVE_EXPORTS",Se="WPC_RECEIVE_SOURCES",je="WPC_CREATE_EXPORT",Te="WPC_FINISH_EXPORT",Ie="WPC_RECEIVE_APP_PASSWORD",Ae=r("RIqP"),De=r.n(Ae);const ke=/(?:(?:\[(?:(?:(["'])((?:\\.|(?:(?!\1).))*)\1)|([-+]?\d+))\])|(?:\[(.?))|(?:(?:^|(?:(?!^)\.))([^\s"'\`\[\].\\]+))|(.))/g,We=/\\(.)/g,Me=e=>{let t,r=[];for(;t=ke.exec(e);){let n,[,c,o,u,,s]=t;if(c)n=o.replace(We,(...e)=>e[1]===c?c:e[0]);else if(u)n=+u;else{if(!s)throw ke.lastIndex=0,new SyntaxError(`Invalid step @ ${t.index}: ${JSON.stringify(e)}`);n=s}r.push(n)}return r},{isArray:Le}=Array,{defineProperty:Fe,values:Ne}=Object,Ue=Symbol(),Ve=Symbol(),Xe=((e={})=>{const{collect:t=Ne,default:r,flatMap:n="*",map:c="**",parser:o=Me,split:u=o}=e,s=!1===n?Ve:n,a=!1===c?Ue:c,i="string"==typeof u?e=>e.split(u):u;return Fe((function e(n,c,...o){let u;switch(typeof c){case"string":u=i(c);break;case"number":case"symbol":u=[c];break;default:if(!Le(c))throw new TypeError("Invalid path: expected a string, array, number, or symbol");u=c}const p=o.length?o[0]:r,f=e=>void 0===e?p:e,l=u.length-1;for(let r=0;r<=l;++r){if(!n)return p;const c=u[r],o=c===s;if(o||c===a){const c=Le(n)?n:t(n);let s;if(r===l)s=f;else{const t=u.slice(r+1);s=r=>e(r,t,p)}return o?c.flatMap(s):c.map(s)}n=Number.isInteger(c)&&Le(n)?n[c<0?n.length+c:c]:n[c]}return f(n)}),"parse",{value:i})})();var He=r("pPDe");function qe(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return Be(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Be(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,c=function(){};return{s:c,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:c}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,u=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return u=e.done,e},e:function(e){s=!0,o=e},f:function(){try{u||null==r.return||r.return()}finally{if(s)throw o}}}}function Be(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Je=[];function ze(e){return e.sources||Je}function Ge(e){return e.exports.items||Je}function $e(e){return e.creating.inProgress}function Ke(e){return e.creating.lastResult}function Ye(e){return e.import.exportData}function Qe(e){return e.import.validatedExport}function Ze(e){return e.import.source}function et(e){return e.import.sources}function tt(e){return e.import.userMap}function rt(e){return e.import.roleMap}function nt(e,t,r){var n,c=[],o=qe(e);try{for(o.s();!(n=o.n()).done;){var u=n.value,s=u.transform_map[r];if(s&&t.sources[u.slug]){var a,i=qe(s);try{for(i.s();!(a=i.n()).done;){var p=a.value;c.push.apply(c,De()(Xe(t.sources[u.slug],p)))}}catch(e){i.e(e)}finally{i.f()}}}}catch(e){o.e(e)}finally{o.f()}return"users"===r?Object(P.uniqBy)(c,"id"):"roles"===r?Object(P.uniqBy)(c,"slug"):c}var ct=Object(He.a)((function(e){return nt(ze(e),e.import.exportData,"users")}),(function(e){return[ze(e),e.import.exportData]})),ot=Object(He.a)((function(e){return nt(ze(e),e.import.exportData,"roles")}),(function(e){return[ze(e),e.import.exportData]}));function ut(e){return e.wpConnect.step}function st(e){return e.wpConnect.siteUrl}function at(e){return e.wpConnect.exports||Je}function it(e){return e.wpConnect.sources||Je}function pt(e){return e.wpConnect.isCreating}function ft(e){return e.wpConnect.createdExport}function lt(e){return e.credentials}function dt(e){return e.wpConnect.discovery}function Et(e){return e.wpConnect.introspection}function Ot(e,t){var r=Object(P.get)(e,["wpConnect","discovery","data","itsec","routes",t,"_links","self",0,"href"]);if(r)return r;var n=Object(P.get)(e,["wpConnect","discovery","data","url"],"");if(n.length){var c=t;return-1!==n.indexOf("?")&&(c=c.replace("?","&")),c=c.replace(/^\//,""),-1!==n.indexOf("?")&&(c=c.replace("?","&")),n+c}}function bt(e){return Object(P.get)(e,["wpConnect","discovery","data","index","authentication","application-passwords","endpoints","authorization"])}var ht={isFulfilled:function(e){return!!e.sources},fulfill:g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(i.apiFetch)({path:"/ithemes-security/v1/import-export/sources"});case 2:return t=e.sent,e.next=5,N(t);case 5:case"end":return e.stop()}}),e)}))},xt={isFulfilled:function(e){return!!e.exports.items},fulfill:g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(i.apiFetch)({path:"/ithemes-security/v1/import-export/exports"});case 2:return t=e.sent,e.next=5,U(t);case 5:case"end":return e.stop()}}),e)}))},vt={isFulfilled:function(e){return!!e.wpConnect.exports},fulfill:g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b({path:"/ithemes-security/v1/import-export/exports"});case 2:return t=e.sent,e.next=5,Z(t);case 5:case"end":return e.stop()}}),e)}))},mt={isFulfilled:function(e){return!!e.wpConnect.exports},fulfill:g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b({path:"/ithemes-security/v1/import-export/sources"});case 2:return t=e.sent,e.next=5,ee(t);case 5:case"end":return e.stop()}}),e)}))},yt={isFulfilled:function(e){return!!e.wpConnect.introspection},fulfill:g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b({path:"/wp/v2/users/me/application-passwords/introspect"});case 2:return t=e.sent,e.next=5,Q(t);case 5:case"end":return e.stop()}}),e)}))};function gt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Pt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?gt(Object(r),!0).forEach((function(t){s()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Ct={step:"enterWebsite",siteUrl:"",discovery:null,exports:null,sources:null,isCreating:!1,createdExport:null,introspection:null};var wt=Object(a.combineReducers)({exports:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{items:null,errors:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ie:return Pt(Pt({},e),{},{items:De()(t.exports)});case fe:return t.result.isSuccess()&&e.items?Pt(Pt({},e),{},{items:[t.result.data].concat(De()(e.items))}):e;case le:return Pt(Pt({},e),{},{items:e.items.filter((function(e){return e.id!==t.id}))});case de:return Pt(Pt({},e),{},{errors:Pt(Pt({},e.errors),{},s()({},t.id,t.error))});default:return e}},creating:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{inProgress:!1,lastResult:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case pe:return Pt(Pt({},e),{},{inProgress:!0,lastResult:null});case fe:return Pt(Pt({},e),{},{inProgress:!1,lastResult:t.result});default:return e}},sources:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;return t.type===ae?De()(t.sources):e},import:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isValidating:!1,validatedExport:null,exportData:null,source:"",sources:[],userMap:{},roleMap:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ee:case Oe:return Pt(Pt({},e),{},{isValidating:!0,validatedExport:null,exportData:null,source:t.source});case be:var r=Pt(Pt({},e),{},{isValidating:!1,validatedExport:t.result});return t.result.isSuccess()&&(r.exportData=t.result.data),r;case he:return Pt(Pt({},e),{},{sources:t.sources});case xe:return Pt(Pt({},e),{},{userMap:Pt({},t.map)});case ve:return Pt(Pt({},e),{},{roleMap:Pt({},t.map)});default:return e}},wpConnect:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ct,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case me:return Pt({},Ct);case ye:return Pt(Pt({},Ct),{},{siteUrl:t.url});case ge:return Pt(Pt({},e),{},{step:"discovering"});case Pe:return Pt(Pt({},e),{},{discovery:t.result,step:t.result.isSuccess()&&Object(P.has)(t.result,["data","index","authentication","application-passwords"])?"awaitingAuth":"noAppPasswords"});case Ce:return Pt(Pt({},e),{},{step:"appRejected"});case we:return Pt(Pt({},t.url===e.discovery.data.index.url?e:Ct),{},{step:"appAuthed",siteUrl:t.url});case _e:return Pt(Pt({},e),{},{discovery:t.discovery,step:t.hasSupport?"hasSupport":"noSupport"});case Re:return Pt(Pt({},e),{},{exports:t.exports});case Se:return Pt(Pt({},e),{},{sources:t.sources});case je:return Pt(Pt({},e),{},{isCreating:!0,createdExport:null});case Te:return Pt(Pt({},e),{},{isCreating:!1,createdExport:t.result});case Ie:return Pt(Pt({},e),{},{introspection:t.introspection});default:return e}},credentials:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case me:return null;case we:return t.credentials;default:return e}}});function _t(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Rt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?_t(Object(r),!0).forEach((function(t){s()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_t(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var St="ithemes-security/import-export";Object(a.registerStore)(St,{controls:Rt(Rt({},i.controls),x),actions:n,selectors:c,resolvers:o,reducer:wt,persist:["import","wpConnect"]});r.p=window.itsecWebpackPublicPath}}]);